!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){"use strict";var i="dnSlide",n="1.0.0";t[i]&&t[i].version>n||(t[i]=function(t,i){return this.container=t,this.options=i,this.api=["init","destroy","hide","show"],this.init(),this},t[i].version=n,t[i].defaults={switch:"normal",isOddShow:!1,width:800,height:234,dnSlideFirstWidth:600,dnSlideFirstHeight:234,autoPlay:!1,delay:5e3,scale:.9,speed:500,response:!1,verticalAlign:"middle",afterClickBtnFn:null},t[i].prototype={init:function(){var i=this;this.data(),this.settingDOM(),this.isIE7=/MSIE 6.0|MSIE 7.0/gi.test(window.navigator.userAgent),this.dnSlideMain=this.container.find(".dnSlide-main"),this.dnSlideItems=this.container.find("ul.dnSlide-list"),this.firstItem=this.container.find("ul.dnSlide-list > li:first-child"),this.dnSlideItemsLength=this.container.find("ul.dnSlide-list>li").length,this.dnSlideFirstItem=this.container.find("ul.dnSlide-list>li:first-child"),this.dnSlideLastItem=this.container.find("ul.dnSlide-list>li:last-child"),this.options.isOddShow&&this.isEvenPicNum(),this.options.response&&this.container.addClass("dn-response"),this.prevBtn=this.container.find(".dnSlide-left-btn"),this.nextBtn=this.container.find(".dnSlide-right-btn"),this.prevBtn=this.container.find("div.dnSlide-left-btn"),this.nextBtn=this.container.find("div.dnSlide-right-btn"),this.rotateFlag=!0,this.countSettingValue(),this.setPositionValue(),this.prevBtn.off().on("click",function(t){t.stopPropagation();var n=i.options.afterClickPrevBtnFn;i.rotateFlag&&(i.rotateFlag=!1,i.dnSlideRotate("right")),"function"==typeof n&&n&&n()}),this.nextBtn.off().on("click",function(t){t.stopPropagation();var n=i.options.afterClickNextBtnFn;i.rotateFlag&&(i.rotateFlag=!1,i.dnSlideRotate("left")),"function"==typeof n&&n&&n()}),t(window).resize(function(){i.WndwResize()}),this.options.autoPlay&&(this.autoPlay(),this.container.hover(function(){clearTimeout(i.timer)},function(){i.autoPlay()}))},data:function(){this.container.data(i)||this.container.data(i,{target:this.container})},destroy:function(){this.container.empty().html(this.defalutHtml)},hide:function(t){this.container.addClass("dnSlide-hide"),t&&"function"==typeof t&&t()},show:function(t){this.container.removeClass("dnSlide-hide"),t&&"function"==typeof t&&t()},settingDOM:function(){var t=this;this.defalutHtml=this.container.html(),this.resourceSrcArr=this.container.find("img").map(function(t,i){return i.src});var i=this.container.html('<ul class="dnSlide-list"></ul>').find(".dnSlide-list");jQuery.each(this.resourceSrcArr,function(n,e){i.append('<li class="dnSlide-item"><a href="javascript:void(0)"><img class="slide-img" src="'+t.resourceSrcArr[n]+'" width="100%"></a></li>')}),i.parents(".dnSlide-main").append("<div class='dnSlide-btn dnSlide-left-btn'></div>","<div class='dnSlide-btn dnSlide-right-btn'></div>")},WndwResize:function(){var t=this,i="";i&&(clearTimeout(i),i=null),i=setTimeout(function(){t.countSettingValue(),t.setPositionValue()},250)},getCustomSetting:function(){var t=this.setting;return t&&""!==t?t:{}},countSettingValue:function(){var t=this.options.response,i="100%",n=Math.floor(this.dnSlideItemsLength/2),e=t?this.dnSlideFirstItem.find(".slide-img").height():this.options.height,s=t?null:this.options.width,d=t?null:this.options.dnSlideFirstWidth,h=t?(this.container.width()-this.firstItem.width())/2:(this.options.width-this.options.dnSlideFirstWidth)/2;this.container.css({width:s,height:e}),this.firstItem.css({width:d,height:t?i:this.options.dnSlideFirstHeight}),this.prevBtn.css({width:h,height:t?i:this.options.height}),this.nextBtn.css({width:h,height:t?i:this.options.height}),this.dnSlideFirstItem.css({left:h,zIndex:n})},setPositionValue:function(){var i=this,n=this.options.response,e=Math.floor(this.dnSlideItemsLength/2),s=this.container.find(".dnSlide-list > li").slice(1),d=s.slice(0,s.length/2),h=s.slice(s.length/2),o=n?(this.container.width()-this.firstItem.width())/2:(this.options.width-this.options.dnSlideFirstWidth)/2,l=o/e,a=n?this.dnSlideFirstItem.width():this.options.dnSlideFirstWidth,r=n?this.dnSlideFirstItem.height():this.options.dnSlideFirstHeight;d.each(function(n,s){a*=i.options.scale,r*=i.options.scale;var d=n;t(s).css({width:a,height:r,zIndex:--e,opacity:1/++d,left:o+i.dnSlideFirstItem.width()+ ++n*l-a,top:i.settingVerticalAlign(r)})});var c=d.last().width(),f=d.last().height(),u=Math.floor(this.dnSlideItemsLength/2);h.each(function(n,s){t(s).css({width:c,height:f,zIndex:e++,opacity:1/u--,left:l*n,top:i.settingVerticalAlign(f)}),c/=i.options.scale,f/=i.options.scale})},settingVerticalAlign:function(t){var i=this.options.verticalAlign,n=this.options.response?this.dnSlideFirstItem.find(".slide-img").height():this.options.height;return"middle"===i?(n-t)/2:"top"===i?0:"bottom"===i?n-t:(n-t)/2},dnSlideRotate:function(i){var n=this,e=[],s=[];"left"===i?(this.dnSlideItems.find("li").each(function(i,s){var d=t(s).prev().get(0)?t(s).prev():n.dnSlideLastItem,h=d.width(),o=d.height(),l=d.css("zIndex"),a=d.css("top"),r=d.css("left"),c=d.css("opacity");e.push(l),t(s).animate({width:h,height:o,top:a,left:r,opacity:c},n.options.speed,function(){n.rotateFlag=!0})}),this.dnSlideItems.find("li").each(function(i){t(this).css("zIndex",e[i]),s.push(parseInt(e[i]))})):"right"===i&&(this.dnSlideItems.find("li").each(function(i,s){var d=t(s).next().get(0)?t(s).next():n.dnSlideFirstItem,h=d.width(),o=d.height(),l=d.css("zIndex"),a=d.css("top"),r=d.css("left"),c=d.css("opacity");e.push(l),t(s).animate({width:h,height:o,top:a,left:r,opacity:c},function(){n.rotateFlag=!0})}),this.dnSlideItems.find("li").each(function(i){t(this).css("zIndex",e[i]),s.push(parseInt(e[i]))}));var d=Math.max.apply(null,s),h=jQuery.inArray(d,s);this.options.afterClickBtnFn.apply(this,[h])},autoPlay:function(){var t=this;this.timer=setInterval(function(){t.dnSlideRotate("left")},t.options.delay)},isEvenPicNum:function(){this.dnSlideItemsLength%2==0&&(this.dnSlideItems.append(this.dnSlideFirstItem.clone()),this.dnSlideItemsLength=this.dnSlide.find("ul.dnSlide-list>li").length,this.dnSlideFirstItem=this.dnSlide.find("ul.dnSlide-list>li:first-child"),this.dnSlideLastItem=this.dnSlide.find("ul.dnSlide-list>li:last-child"))},_api_:function(){var i=this,n={};return t.each(this.api,function(t){var e=this;n[e]=function(){var t=i[e].apply(i,arguments);return void 0===t?n:t}}),n}},t.fn[i]=function(n){return n=t.extend(!0,{},t[i].defaults,n),this.each(function(){t(this).data(i,new t[i](t(this),n)._api_()),t(this).addClass("done")})})});